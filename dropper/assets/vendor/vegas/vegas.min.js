!function(e){"use strict";var n={slide:0,delay:5e3,preload:!1,preloadImage:!1,preloadVideo:!1,timer:!1,overlay:!1,autoplay:!0,shuffle:!1,cover:!0,color:null,align:"center",valign:"center",transition:"fade",transitionDuration:1e3,transitionRegister:[],animation:null,animationDuration:"auto",animationRegister:[],init:function(){},play:function(){},pause:function(){},walk:function(){},slides:[]},a={},i=function(a,i){this.elmt=a,this.settings=e.extend({},n,e.vegas.defaults,i),this.slide=this.settings.slide,this.total=this.settings.slides.length,this.noshow=this.total<2,this.paused=!this.settings.autoplay||this.noshow,this.$elmt=e(a),this.$timer=null,this.$overlay=null,this.$slide=null,this.timeout=null,this.transitions=["fade","fade2","blur","blur2","flash","flash2","negative","negative2","burn","burn2","slideLeft","slideLeft2","slideRight","slideRight2","slideUp","slideUp2","slideDown","slideDown2","zoomIn","zoomIn2","zoomOut","zoomOut2","swirlLeft","swirlLeft2","swirlRight","swirlRight2"],this.animations=["kenburns","kenburnsLeft","kenburnsRight","kenburnsUp","kenburnsUpLeft","kenburnsUpRight","kenburnsDown","kenburnsDownLeft","kenburnsDownRight"],this.settings.transitionRegister instanceof Array==!1&&(this.settings.transitionRegister=[this.settings.transitionRegister]),this.settings.animationRegister instanceof Array==!1&&(this.settings.animationRegister=[this.settings.animationRegister]),this.transitions=this.transitions.concat(this.settings.transitionRegister),this.animations=this.animations.concat(this.settings.animationRegister),this.support={objectFit:"objectFit"in document.body.style,transition:"transition"in document.body.style||"WebkitTransition"in document.body.style,video:e.vegas.isVideoCompatible()},this.settings.shuffle===!0&&this.shuffle(),this._init()};i.prototype={_init:function(){var n,a,i,t="BODY"===this.elmt.tagName,o=this.settings.timer,s=this.settings.overlay,r=this;this._preload(),t||(this.$elmt.css("height",this.$elmt.css("height")),n=e('<div class="vegas-wrapper">').css("overflow",this.$elmt.css("overflow")).css("padding",this.$elmt.css("padding")),this.$elmt.css("padding")||n.css("padding-top",this.$elmt.css("padding-top")).css("padding-bottom",this.$elmt.css("padding-bottom")).css("padding-left",this.$elmt.css("padding-left")).css("padding-right",this.$elmt.css("padding-right")),this.$elmt.clone(!0).children().appendTo(n),this.elmt.innerHTML=""),o&&this.support.transition&&(i=e('<div class="vegas-timer"><div class="vegas-timer-progress">'),this.$timer=i,this.$elmt.prepend(i)),s&&(a=e('<div class="vegas-overlay">'),"string"==typeof s&&a.css("background-image","url("+s+")"),this.$overlay=a,this.$elmt.prepend(a)),this.$elmt.addClass("vegas-container"),t||this.$elmt.append(n),setTimeout(function(){r.trigger("init"),r._goto(r.slide),r.settings.autoplay&&r.trigger("play")},1)},_preload:function(){var e,n,a;for(a=0;a<this.settings.slides.length;a++)(this.settings.preload||this.settings.preloadImages)&&this.settings.slides[a].src&&(n=new Image,n.src=this.settings.slides[a].src),(this.settings.preload||this.settings.preloadVideos)&&this.support.video&&this.settings.slides[a].video&&(e=this._video(this.settings.slides[a].video instanceof Array?this.settings.slides[a].video:this.settings.slides[a].video.src))},_random:function(e){return e[Math.floor(Math.random()*(e.length-1))]},_slideShow:function(){var e=this;this.total>1&&!this.paused&&!this.noshow&&(this.timeout=setTimeout(function(){e.next()},this._options("delay")))},_timer:function(e){var n=this;clearTimeout(this.timeout),this.$timer&&(this.$timer.removeClass("vegas-timer-running").find("div").css("transition-duration","0ms"),this.paused||this.noshow||e&&setTimeout(function(){n.$timer.addClass("vegas-timer-running").find("div").css("transition-duration",n._options("delay")-100+"ms")},100))},_video:function(e){var n,i,t=e.toString();return a[t]?a[t]:(e instanceof Array==!1&&(e=[e]),n=document.createElement("video"),n.preload=!0,e.forEach(function(e){i=document.createElement("source"),i.src=e,n.appendChild(i)}),a[t]=n,n)},_fadeOutSound:function(e,n){var a=this,i=n/10,t=e.volume-.09;t>0?(e.volume=t,setTimeout(function(){a._fadeOutSound(e,n)},i)):e.pause()},_fadeInSound:function(e,n){var a=this,i=n/10,t=e.volume+.09;1>t&&(e.volume=t,setTimeout(function(){a._fadeInSound(e,n)},i))},_options:function(e,n){return void 0===n&&(n=this.slide),void 0!==this.settings.slides[n][e]?this.settings.slides[n][e]:this.settings[e]},_goto:function(n){function a(){f._timer(!0),setTimeout(function(){b&&(f.support.transition?(l.css("transition","all "+w+"ms").addClass("vegas-transition-"+b+"-out"),l.each(function(){var e=l.find("video").get(0);e&&(e.volume=1,f._fadeOutSound(e,w))}),i.css("transition","all "+w+"ms").addClass("vegas-transition-"+b+"-in")):i.fadeIn(w));for(var e=0;e<l.length-4;e++)l.eq(e).remove();f.trigger("walk"),f._slideShow()},100)}"undefined"==typeof this.settings.slides[n]&&(n=0),this.slide=n;var i,t,o,s,r,l=this.$elmt.children(".vegas-slide"),p=this.settings.slides[n].src,d=this.settings.slides[n].url,c=this.settings.slides[n].video,m=this._options("delay"),u=this._options("align"),g=this._options("valign"),h=this._options("color")||this.$elmt.css("background-color"),v=this._options("cover")?"cover":"contain",f=this,E=l.length,b=this._options("transition"),w=this._options("transitionDuration"),x=this._options("animation"),z=this._options("animationDuration");("random"===b||b instanceof Array)&&(b=this._random(b instanceof Array?b:this.transitions)),("random"===x||x instanceof Array)&&(x=this._random(x instanceof Array?x:this.animations)),("auto"===w||w>m)&&(w=m),"auto"===z&&(z=m),i=e('<div class="vegas-slide"></div>'),this.support.transition&&b&&i.addClass("vegas-transition-"+b),this.support.video&&c?(s=this._video(c instanceof Array?c:c.src),s.loop=void 0!==c.loop?c.loop:!0,s.muted=void 0!==c.mute?c.mute:!0,s.muted===!1?(s.volume=0,this._fadeInSound(s,w)):s.pause(),o=e(s).addClass("vegas-video").css("background-color",h),this.support.objectFit?o.css("object-position",u+" "+g).css("object-fit",v).css("width","100%").css("height","100%"):"contain"===v&&o.css("width","100%").css("height","100%"),i.append(o)):(r=new Image,t=e('<a class="vegas-slide-inner"></a>').css("background-image","url("+p+")").attr("href",""+d).css("background-color",h).css("background-position",u+" "+g).css("background-size",v),this.support.transition&&x&&t.addClass("vegas-animation-"+x).css("animation-duration",z+"ms"),i.append(t)),this.support.transition||i.css("display","none"),E?l.eq(E-1).after(i):this.$elmt.prepend(i),f._timer(!1),s?(4===s.readyState&&(s.currentTime=0),s.play(),a()):(r.src=p,r.onload=a)},shuffle:function(){for(var e,n,a=this.total-1;a>0;a--)n=Math.floor(Math.random()*(a+1)),e=this.settings.slides[a],this.settings.slides[a]=this.settings.slides[n],this.settings.slides[n]=e},play:function(){this.paused&&(this.paused=!1,this.next(),this.trigger("play"))},pause:function(){this._timer(!1),this.paused=!0,this.trigger("pause")},toggle:function(){this.paused?this.play():this.pause()},playing:function(){return!this.paused&&!this.noshow},current:function(e){return e?{slide:this.slide,data:this.settings.slides[this.slide]}:this.slide},jump:function(e){0>e||e>this.total-1||e===this.slide||(this.slide=e,this._goto(this.slide))},next:function(){this.slide++,this.slide>=this.total&&(this.slide=0),this._goto(this.slide)},previous:function(){this.slide--,this.slide<0&&(this.slide=this.total-1),this._goto(this.slide)},trigger:function(e){var n=[];n="init"===e?[this.settings]:[this.slide,this.settings.slides[this.slide]],this.$elmt.trigger("vegas"+e,n),"function"==typeof this.settings[e]&&this.settings[e].apply(this.$elmt,n)},options:function(a,i){var t=this.settings.slides.slice();if("object"==typeof a)this.settings=e.extend({},n,e.vegas.defaults,a);else{if("string"!=typeof a)return this.settings;if(void 0===i)return this.settings[a];this.settings[a]=i}this.settings.slides!==t&&(this.total=this.settings.slides.length,this.noshow=this.total<2,this._preload())},destroy:function(){clearTimeout(this.timeout),this.$elmt.removeClass("vegas-container"),this.$elmt.find("> .vegas-slide").remove(),this.$elmt.find("> .vegas-wrapper").clone(!0).children().appendTo(this.$elmt),this.$elmt.find("> .vegas-wrapper").remove(),this.settings.timer&&this.$timer.remove(),this.settings.overlay&&this.$overlay.remove(),this.elmt._vegas=null}},e.fn.vegas=function(e){var n,a=arguments,t=!1;if(void 0===e||"object"==typeof e)return this.each(function(){this._vegas||(this._vegas=new i(this,e))});if("string"==typeof e){if(this.each(function(){var i=this._vegas;if(!i)throw new Error("No Vegas applied to this element.");"function"==typeof i[e]&&"_"!==e[0]?n=i[e].apply(i,[].slice.call(a,1)):t=!0}),t)throw new Error('No method "'+e+'" in Vegas.');return void 0!==n?n:this}},e.vegas={},e.vegas.defaults=n,e.vegas.isVideoCompatible=function(){return!/(Android|webOS|Phone|iPad|iPod|BlackBerry|Windows Phone)/i.test(navigator.userAgent)}}(window.jQuery||window.Zepto);